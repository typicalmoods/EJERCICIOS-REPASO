<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sistema de reservas</title>
  </head>
  <body>
    <script>
      const salas = [];

      function anadirSala(nombre, capacidad, recurso) {
        const sala = {
          nombre: nombre,
          capacidad: capacidad,
          recurso: recurso,
          ocupada: false,
        };

        salas.push(sala);
        console.log(`${nombre} añadida correctamente`);
      }

      function listarSalasDisponibles() {
        if (salas.length === 0) {
          console.log("No hay salas");
          return;
        }
        console.log("Salas disponibles: ");
        salas.forEach((sala) => {
          console.log(
            `${sala.nombre} Capacidad: ${
              sala.capacidad
            }, Recursos: ${sala.recurso.join(",")}, Ocupada: ${
              sala.ocupada ? "Sí" : "No"
            }`
          );
        });
      }

      function buscarSalaPorRecurso(recurso) {
        const salasConRecurso = salas.filter((sala) =>
          sala.recurso.includes(recurso)
        );
        if (salasConRecurso.length > 0) {
          console.log(`Salas con el recurso seleccionado (${recurso}: `);
          salasConRecurso.forEach((sala) => console.log(`${sala.nombre}`));
        } else {
          console.log("No existen salas con el recurso seleccionada");
        }
      }

      function reservarSala(nombre) {
        const sala = salas.find((s) => s.nombre === nombre);
        if (!sala) {
          console.log("No se encontró la sala solicitada");
          return;
        }
        if (sala.ocupada) {
          consola.log(`La sala ${nombre} está ocupada`);
        } else {
          sala.ocupada = true;
          console.log(`Se ha reservado la sala ${nombre} con éxito`);
        }
      }

      function liberarSala(nombre) {
        const sala = salas.find((s) => s.nombre === nombre);
        if (!sala) {
          console.log("No se encontró la sala solicitada");
        }
        if (!sala.ocupada) {
          console.log(`La sala ${nombre} ya está liberada`);
        } else {
          sala.ocupada = false;
          console.log(`La sala ${nombre} ha sido desocupada`);
        }
      }
      //---- Ejemplos de uso

      anadirSala("Sala A", 20, ["Proyector", "Wifi"]);
      anadirSala("Sala B", 15, ["Pizarra", "Wifi"]);
      anadirSala("Sala C", 15, ["Proyector", "Wifi"]);

      listarSalas();

      buscarSalaPorRecurso("Proyector");

      reservarSala("Sala A");

      liberarSala("Sala A");

      //Liberar una sala que ya está libre
      liberarSala("Sala A");
    </script>
  </body>
</html>
